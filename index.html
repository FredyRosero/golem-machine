<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Golem automaton</title>

    <!-- Estilos de la presentación-->
    <link rel="stylesheet" href="css/style.css">
    <!-- Estilos del Golem-->
    <link rel="stylesheet" href="css/golem.css">

    <!-- KaTeX-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">
    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>
    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>    

    <!-- Mermaid -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
</head>

<body>
    <div id="container">
        <div id="intro">
            <h1>Golem automaton</h1>
            <p>Esta es un golem automata que puede simular otros automatas finitos deterministicos 
                y por ende es un automata semi-universal.</p>
        </div>       
        

        Here is one mermaid diagram:
        <p>Input your data:</p>
        <div class="input">
            <textarea id="input_ta" rows="20" cols="50">graph LR
                Q0((Q0))--0/0-->C((C))
                Q0((Q0))--1/0-->B((B))
             
                B((B))--0/0-->C((C))
                B((B))--1/0-->Q0((Q0))
             
                C((C))--0/0-->C((C))
                C((C))--1/0-->DF((DF))
             
                DF((DF))--0/0-->E((E))
                DF((DF))--1/0-->Q0((Q0))
             
                E((E))--0/0-->C((C))
                E((E))--1/1-->DF((DF))
             
                style DF fill:#f9f,stroke:#333,stroke-width:4px</textarea>
            <br>
            <!-- https://mermaid-js.github.io/mermaid/#/flowchart?id=styling-and-classes -->
            <button id="render">renderizar</button>
        </div>
        <div>
            <p>output:</p>        
            <div class="render_container" style = "width:300px; height:200px; border:thin solid silver" >
                <div class="flowchart"></div>
            </div>
        </div>    
        <script>
            document.querySelector("#render").addEventListener("click", (e) => {
                const output = document.querySelector(".flowchart");
                if (output.firstChild !== null) {
                  output.innerHTML = "";
                }
                const code = document.querySelector(" textarea").value.trim();
                let insert = function (code) {
                  output.innerHTML = code;
                };
                mermaid.render("preparedScheme", code, insert);
            });
            document.querySelector("#render").click();
        </script>

        <!-- Presentación del Golem -->
        <div id="world">
            <div id="golem" class="idle" style="top: 100px; left: 100px;">
                <div class="pebble p1"></div>
                <div class="pebble p2"></div>
                <div class="pebble p3"></div>  
                <div id="board">
                    <span class="previousCells">??</span><br>
                    <span class="actualCell">?</span><br>
                    <span class="nextsCells">??</span><br>
                </div>
                <div class="character"></div>       
            </div>
            <div id="pebble1" class="pebble p1"></div>
            <div id="pebble2" class="pebble p2"></div>
            <div id="pebble3" class="pebble p3"></div>
            <p>Ingrese el codigo dr programación</p>
            <input id="inputTape" type="text" >
            <div class="row">
                <button id="start">Start</button>
                <button id="reset">Reset</button>
            </div>
            <div class="row">
                <label>Velocity</label>
                <input id="velocity" type="range" value="10" min="1" max="100" step="1">
            </div>            
        </div>
    </div>
    <div id="dialog">
        <div>Aquí va el diálogo</div>            
    </div>    
    <script src="js/utils.js"></script>   
    <script src="js/golem.js"></script>    
    <script src="js/world.js"></script>
    <script src="js/index.js"></script>
</body>

</html>